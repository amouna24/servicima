<div class="dynamic-component-container border-radius-20" fxLayout="column" fxFlex="100">
  <div fxLayout="row" fxFlex="100" fxLayoutAlign="space-around center">
    <div fxLayout="column" fxFlex="56">
      <h1 class="steel font-size-24 font-medium">{{ title }}</h1>
    </div>
    <div fxLayout="column" fxFlex="15" fxLayoutAlign="center end" class="font-size-25 steel">
      <button mat-raised-button  class="btn-small bg-pale-grey" routerLink="{{ backURL }}">
        <mat-icon class="icon material-icons-outlined"  svgIcon="wi_arrow_back">
        </mat-icon>
        <span class="cool-grey">back</span>
      </button>
    </div>

  </div>
  <div fxLayout="row" fxFlex="100" fxLayoutAlign="space-around center">
    <mat-divider [ngStyle]="{ 'width': '90%', borderTopWidth: '2px' }"></mat-divider>
  </div>
  <div fxLayout="row" fxFlex="93">
    <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/  DYNAMIC MENU SECTION  /-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->
    <div fxLayout="row" fxFlex="30">
      <div fxLayout="column" fxFlex="100">
        <div class="bg-pale-grey border-radius-20" fxFlexAlign="center" [ngStyle]="{ 'width': '80%' }"
             fxFlexOffset="10">
          <mat-list *ngFor="let mi of menuItems">
            <ng-container *ngIf="mi.child.length > 0; else ChildMI">
              <mat-list-item [ngStyle]="{cursor: 'pointer'}"
                             [ngClass]="childSelected(mi.titleKey) ? 'cerulean-blue font-size-18' : 'steel font-size-18'"
                             (click)="scroll(mi.titleKey)"> {{ mi.title }} </mat-list-item>
              <mat-list-item [ngStyle]="{cursor: 'pointer'}"
                             [ngClass]="childMI.titleKey === valueOfSelectedItem ? 'cerulean-blue font-size-14 m-l-20' : 'steel-two font-size-14 m-l-20'"
                             *ngFor="let childMI of mi.child"
                             (click)="scroll(childMI.titleKey)"> {{ childMI.title }} </mat-list-item>
            </ng-container>
            <ng-template #ChildMI>
              <mat-list-item [ngStyle]="{cursor: 'pointer'}"
                             [ngClass]="mi.titleKey === valueOfSelectedItem ? 'cerulean-blue font-size-18' : 'steel font-size-18'"
                             (click)="scroll('#' + mi.titleKey)"> {{ mi.title }} </mat-list-item>
            </ng-template>
          </mat-list>
        </div>
      </div>
    </div>
    <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->


    <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/   MAT DIVIDER SECTION   /-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->
    <div fxLayout="row" fxFlex="1">
      <mat-divider fxFlexAlign="center" [vertical]="true" [ngStyle]="{ 'height': '90%'}"></mat-divider>
    </div>
    <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->


    <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/  DYNAMIC FORM SECTION  /-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-->
    <div fxLayout="column" fxFlex="69">
      <wid-scrollbar id="dynamic-component-content" class="dynamic-component-content">
        <form [formGroup]="formData" fxLayout="column" fxFlex="100">
          <ng-container *ngFor="let mi of menuItems">
            <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/  FIRST ITEM AND ITS CHILD  /-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-->
            <ng-container *ngIf="mi.child.length > 0; else childSection">

              <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/   FIRST ITEM'S CHILD  /-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->
              <ng-container *ngFor="let chMI of mi.child">
                <section id="{{chMI.titleKey}}" fxLayout="column" fxFlex="100"
                         (mouseenter)="setSelectedItem(chMI.titleKey)" formGroupName="{{ chMI.titleKey }}">

                  <!------------------------ TITLE  ------------------------->
                  <div fxLayout="row">
                    <h1 class="steel font-size-18">{{ chMI.title }}</h1>
                  </div>
                  <!--------------------------------------------------------->
                  <wid-skeleton-loader
                    *ngIf="isLoading.getValue()"
                    height="25" width="250"
                  ></wid-skeleton-loader>
                  <ng-container *ngIf="!isLoading.getValue()">
                    <div *ngFor="let ff of dynamicForm;"
                         fxLayout="row">
                      <!------------------ ONE ITEM CENTER LAYOUT ------------------->
                      <ng-container *ngIf="ff.fieldsLayout === 'ONE_ITEM_CENTER'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="space-evenly center">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="40">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>
                      </ng-container>
                      <!------------------ END OF ONE ITEM CENTER LAYOUT ------------------->

                      <!---------------------- ONE ITEM LEFT LAYOUT ------------------------>
                      <ng-container *ngIf="ff.fieldsLayout === 'ONE_ITEM_LEFT'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="start center">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>
                      </ng-container>
                      <!------------------ END OF ONE ITEM LEFT LAYOUT ------------------->

                      <!------------------- ONE ITEM STRETCH LAYOUT ---------------------->
                      <ng-container *ngIf="ff.fieldsLayout === 'ONE_ITEM_STRETCH'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="space-evenly center">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="87">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="87">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="87">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="87">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>
                      </ng-container>
                      <!------------------ END OF ONE ITEM STRETCH LAYOUT ------------------->

                      <!------------------ TWO ITEMS LAYOUT ------------------->
                      <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="space-evenly center">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="40">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>
                      </ng-container>
                      <!------------------ END OF TWO ITEMS LAYOUT ------------------->

                      <!------------------ TWO ITEMS WITH TEXTAREA LAYOUT ------------------->
                      <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS_WITH_TEXTAREA'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="space-evenly center">
                          <div fxLayout="column" fxFlex="40">
                            <ng-container *ngFor="let sf of ff.fields">
                              <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                  <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                  <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                                <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                  {{ sf.label }} :
                                </mat-label>
                                <div fxLayout="row" fxFlex="100">
                                  <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                    <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                           placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                    <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                      {{ 'general.required' | translate }} </mat-error>
                                    <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                      {{'register.invalidemail' | translate}} </mat-error>
                                  </mat-form-field>
                                  <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                    <span class="white">Browse</span>
                                  </button>
                                </div>

                              </div>
                              <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <mat-select disableOptionCentering panelClass="panelColor"
                                              placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                    <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                      {{v.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label  | translate }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <mat-select disableOptionCentering panelClass="panelColor" required
                                              formControlName="{{sf.formControlName}}"
                                              placeholder="{{ sf.placeholder | translate }}">
                                    <mat-option>
                                      <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                             noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                             formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                    </mat-option>
                                    <mat-option *ngFor="let v of sf.filteredList | async"
                                                [value]="v.value">
                                      {{v.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="100">
                                <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                              </div>
                            </ng-container>
                          </div>
                          <div fxLayout="column" fxFlex="40" fxLayoutAlign="center stretch" [style]="{height: '100%'}">
                            <ng-container *ngFor="let sf of ff.fields">
                              <div *ngIf="sf.type === 'textarea'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                <textarea matInput placeholder="{{ sf.placeholder }}" rows="7"
                                          formControlName="{{sf.formControlName}}"></textarea>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                            </ng-container>
                          </div>

                        </div>
                      </ng-container>
                      <!------------------ END OF TWO ITEMS WITH TEXTAREA LAYOUT ------------------->

                      <!------------------ TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->
                      <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS_WITH_IMAGE_AT_RIGHT'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="space-evenly center">
                          <div fxLayout="column" fxFlex="40">
                            <ng-container *ngFor="let sf of ff.fields">
                              <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                  <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                  <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                                <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                  {{ sf.label }} :
                                </mat-label>
                                <div fxLayout="row" fxFlex="100">
                                  <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                    <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                           placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                    <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                      {{ 'general.required' | translate }} </mat-error>
                                    <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                      {{'register.invalidemail' | translate}} </mat-error>
                                  </mat-form-field>
                                  <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                    <span class="white">Browse</span>
                                  </button>
                                </div>

                              </div>
                              <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <mat-select disableOptionCentering panelClass="panelColor"
                                              placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                    <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                      {{v.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label  | translate }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <mat-select disableOptionCentering panelClass="panelColor" required
                                              formControlName="{{sf.formControlName}}"
                                              placeholder="{{ sf.placeholder | translate }}">
                                    <mat-option>
                                      <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                             noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                             formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                    </mat-option>
                                    <mat-option *ngFor="let v of sf.filteredList | async"
                                                [value]="v.value">
                                      {{v.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="100">
                                <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                              </div>
                            </ng-container>
                          </div>
                          <div fxLayout="column" fxFlex="40" fxLayoutAlign="center stretch" [style]="{height: '100%'}">
                            <ng-container *ngFor="let sf of ff.fields">
                              <div *ngIf="sf.type === 'image'" fxLayout="column" fxFlex="100"
                                   fxLayoutAlign="center center" class="profile-image">
                                <wid-profile-image [haveImage]="sf.imageInputs.haveImage.getValue()" [avatar]="sf.imageInputs.avatar.getValue()"
                                                   [modelObject]="sf.imageInputs.modelObject"
                                                   [singleUpload]="sf.imageInputs.singleUpload"
                                                   [userType]="sf.imageInputs.userType"  (newFile)="getFile($event)"></wid-profile-image>
                              </div>
                            </ng-container>
                          </div>

                        </div>
                      </ng-container>
                      <!------------------ END OF TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->


                      <!------------------ TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->
                      <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS_WITH_IMAGE_AT_LEFT'">
                        <div *ngIf="ff.titleRef === chMI.titleKey" fxLayout="row" fxFlex="100"
                             fxLayoutAlign="space-evenly center">
                          <div fxLayout="column" fxFlex="40" fxLayoutAlign="center stretch" [style]="{height: '100%'}">
                            <ng-container *ngFor="let sf of ff.fields">
                              <div *ngIf="sf.type === 'image'" fxLayout="column" fxFlex="100"
                                   fxLayoutAlign="center center" class="profile-image">
                                <wid-profile-image [haveImage]="sf.imageInputs.haveImage.getValue()" [avatar]="sf.imageInputs.avatar.getValue()"
                                                   [modelObject]="sf.imageInputs.modelObject"
                                                   [singleUpload]="sf.imageInputs.singleUpload"
                                                   [userType]="sf.imageInputs.userType"
                                                   (newFile)="getFile($event)"></wid-profile-image>
                              </div>
                            </ng-container>
                          </div>
                          <div fxLayout="column" fxFlex="40">
                            <ng-container *ngFor="let sf of ff.fields">
                              <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                  <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                  <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                                <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                  {{ sf.label }} :
                                </mat-label>
                                <div fxLayout="row" fxFlex="100">
                                  <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                    <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                           placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                    <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                      {{ 'general.required' | translate }} </mat-error>
                                    <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'email')">
                                      {{'register.invalidemail' | translate}} </mat-error>
                                  </mat-form-field>
                                  <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                    <span class="white">Browse</span>
                                  </button>
                                </div>

                              </div>
                              <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <mat-select disableOptionCentering panelClass="panelColor"
                                              placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                    <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                      {{v.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="100">
                                <mat-label class="black font-size-12">
                                  {{ sf.label  | translate }} :
                                </mat-label>
                                <mat-form-field appearance="outline">
                                  <mat-select disableOptionCentering panelClass="panelColor" required
                                              formControlName="{{sf.formControlName}}"
                                              placeholder="{{ sf.placeholder | translate }}">
                                    <mat-option>
                                      <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                             noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                             formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                    </mat-option>
                                    <mat-option *ngFor="let v of sf.filteredList | async"
                                                [value]="v.value">
                                      {{v.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[chMI.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                </mat-form-field>
                              </div>
                              <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="100">
                                <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                              </div>
                            </ng-container>
                          </div>

                        </div>
                      </ng-container>
                      <!------------------ END OF TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->

                    </div>
                  </ng-container>

                </section>
              </ng-container>
            </ng-container>
            <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/   ITEM WITHOUT CHILD  /-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->
            <ng-template #childSection>
              <section id="#{{mi.titleKey}}" fxLayout="column" fxFlex="100" (mouseenter)="setSelectedItem(mi.titleKey)"
                       formGroupName="{{ mi.titleKey }}">

                <!------------------------ TITLE  ------------------------->
                <div fxLayout="row">
                  <h1 class="steel font-size-18">{{ mi.title }}</h1>
                </div>
                <!--------------------------------------------------------->
                <wid-skeleton-loader
                  *ngIf="isLoading.getValue()"
                  height="25"
                  width="250"
                ></wid-skeleton-loader>
                <ng-container *ngIf="!isLoading.getValue()">
                  <div *ngFor="let ff of dynamicForm;"
                       fxLayout="row">
                    <!------------------ ONE ITEM CENTER LAYOUT ------------------->
                    <ng-container *ngIf="ff.fieldsLayout === 'ONE_ITEM_CENTER'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="space-evenly center">
                        <ng-container *ngFor="let sf of ff.fields">
                          <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                     placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                              <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                              <mat-datepicker #datepicker color="primary"></mat-datepicker>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                              {{ sf.label }} :
                            </mat-label>
                            <div fxLayout="row" fxFlex="100">
                              <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                              <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                <span class="white">Browse</span>
                              </button>
                            </div>

                          </div>
                          <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor"
                                          placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label  | translate }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor" required
                                          formControlName="{{sf.formControlName}}"
                                          placeholder="{{ sf.placeholder | translate }}">
                                <mat-option>
                                  <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                         noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                         formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let v of sf.filteredList | async"
                                            [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="40">
                            <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                          </div>
                        </ng-container>
                      </div>
                    </ng-container>
                    <!------------------ END OF ONE ITEM CENTER LAYOUT ------------------->

                    <!---------------------- ONE ITEM LEFT LAYOUT ------------------------>
                    <ng-container *ngIf="ff.fieldsLayout === 'ONE_ITEM_LEFT'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="start center">
                        <ng-container *ngFor="let sf of ff.fields">
                          <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                     placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                              <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                              <mat-datepicker #datepicker color="primary"></mat-datepicker>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                              {{ sf.label }} :
                            </mat-label>
                            <div fxLayout="row" fxFlex="100">
                              <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                              <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                <span class="white">Browse</span>
                              </button>
                            </div>

                          </div>
                          <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor"
                                          placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                            <mat-label class="black font-size-12">
                              {{ sf.label  | translate }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor" required
                                          formControlName="{{sf.formControlName}}"
                                          placeholder="{{ sf.placeholder | translate }}">
                                <mat-option>
                                  <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                         noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                         formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let v of sf.filteredList | async"
                                            [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="40" fxFlexOffset="7">
                            <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                          </div>
                        </ng-container>
                      </div>
                    </ng-container>
                    <!------------------ END OF ONE ITEM LEFT LAYOUT ------------------->

                    <!------------------- ONE ITEM STRETCH LAYOUT ---------------------->
                    <ng-container *ngIf="ff.fieldsLayout === 'ONE_ITEM_STRETCH'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="space-evenly center">
                        <ng-container *ngFor="let sf of ff.fields">
                          <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="87">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                     placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                              <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                              <mat-datepicker #datepicker color="primary"></mat-datepicker>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                              {{ sf.label }} :
                            </mat-label>
                            <div fxLayout="row" fxFlex="100">
                              <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                              <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                <span class="white">Browse</span>
                              </button>
                            </div>

                          </div>
                          <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="87">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor"
                                          placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="87">
                            <mat-label class="black font-size-12">
                              {{ sf.label  | translate }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor" required
                                          formControlName="{{sf.formControlName}}"
                                          placeholder="{{ sf.placeholder | translate }}">
                                <mat-option>
                                  <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                         noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                         formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let v of sf.filteredList | async"
                                            [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="87">
                            <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                          </div>
                        </ng-container>
                      </div>
                    </ng-container>
                    <!------------------ END OF ONE ITEM STRETCH LAYOUT ------------------->

                    <!------------------ TWO ITEMS LAYOUT ------------------->
                    <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="space-evenly center">
                        <ng-container *ngFor="let sf of ff.fields">
                          <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input type="{{ sf.inputType }}" (keyup)="keyUpHandler($event.target)" matInput
                                     placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}" value="">
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                              <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                              <mat-datepicker #datepicker color="primary"></mat-datepicker>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                {{'register.invalidemail' | translate}} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                              {{ sf.label }} :
                            </mat-label>
                            <div fxLayout="row" fxFlex="100">
                              <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                              <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                <span class="white">Browse</span>
                              </button>
                            </div>

                          </div>
                          <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor"
                                          placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="40">
                            <mat-label class="black font-size-12">
                              {{ sf.label  | translate }} :
                            </mat-label>
                            <mat-form-field appearance="outline">
                              <mat-select disableOptionCentering panelClass="panelColor" required
                                          formControlName="{{sf.formControlName}}"
                                          placeholder="{{ sf.placeholder | translate }}">
                                <mat-option>
                                  <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                         noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                         formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                </mat-option>
                                <mat-option *ngFor="let v of sf.filteredList | async"
                                            [value]="v.value">
                                  {{v.viewValue}}
                                </mat-option>
                              </mat-select>
                              <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                {{ 'general.required' | translate }} </mat-error>
                            </mat-form-field>
                          </div>
                          <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="40">
                            <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                          </div>
                        </ng-container>
                      </div>
                    </ng-container>
                    <!------------------ END OF TWO ITEMS LAYOUT ------------------->

                    <!------------------ TWO ITEMS WITH TEXTAREA LAYOUT ------------------->
                    <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS_WITH_TEXTAREA'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="space-evenly center">
                        <div fxLayout="column" fxFlex="40">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="100">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>
                        <div fxLayout="column" fxFlex="40" fxLayoutAlign="center stretch" [style]="{height: '100%'}">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'textarea'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                              <textarea matInput placeholder="{{ sf.placeholder }}" rows="7"
                                        formControlName="{{sf.formControlName}}"></textarea>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                          </ng-container>
                        </div>

                      </div>
                    </ng-container>
                    <!------------------ END OF TWO ITEMS WITH TEXTAREA LAYOUT ------------------->

                    <!------------------ TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->
                    <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS_WITH_IMAGE_AT_RIGHT'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="space-evenly center">
                        <div fxLayout="column" fxFlex="40">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="100">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>
                        <div fxLayout="column" fxFlex="40" fxLayoutAlign="center stretch" [style]="{height: '100%'}">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'image'" fxLayout="column" fxFlex="100" fxLayoutAlign="center center"
                                 class="profile-image">
                              <wid-profile-image [haveImage]="sf.imageInputs.haveImage.getValue()" [avatar]="sf.imageInputs.avatar.getValue()"
                                                 [modelObject]="sf.imageInputs.modelObject"
                                                 [singleUpload]="sf.imageInputs.singleUpload"
                                                 [userType]="sf.imageInputs.userType"
                                                 (newFile)="getFile($event)"></wid-profile-image>
                            </div>
                          </ng-container>
                        </div>

                      </div>
                    </ng-container>
                    <!------------------ END OF TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->


                    <!------------------ TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->
                    <ng-container *ngIf="ff.fieldsLayout === 'TWO_ITEMS_WITH_IMAGE_AT_LEFT'">
                      <div *ngIf="ff.titleRef === mi.titleKey" fxLayout="row" fxFlex="100"
                           fxLayoutAlign="space-evenly center">
                        <div fxLayout="column" fxFlex="40" fxLayoutAlign="center stretch" [style]="{height: '100%'}">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'image'" fxLayout="column" fxFlex="100" fxLayoutAlign="center center"
                                 class="profile-image">
                              <wid-profile-image [haveImage]="sf.imageInputs.haveImage.getValue()"
                                                 [avatar]="sf.imageInputs.avatar.getValue()"
                                                 [modelObject]="sf.imageInputs.modelObject"
                                                 [singleUpload]="sf.imageInputs.singleUpload"
                                                 [userType]="sf.imageInputs.userType"
                                                 (newFile)="getFile($event)"></wid-profile-image>
                            </div>
                          </ng-container>
                        </div>
                        <div fxLayout="column" fxFlex="40">
                          <ng-container *ngFor="let sf of ff.fields">
                            <div *ngIf="sf.type === 'input'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                       placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'datePicker'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="datepicker" formControlName="{{sf.formControlName}}" placeholder="{{ sf.placeholder }}">
                                <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
                                <mat-datepicker #datepicker color="primary"></mat-datepicker>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                  {{'register.invalidemail' | translate}} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'uploadFile'" fxLayout="column" fxFlex="40">
                              <mat-label class="black font-size-12" fxLayout="row" fxFlex="100">
                                {{ sf.label }} :
                              </mat-label>
                              <div fxLayout="row" fxFlex="100">
                                <mat-form-field mat-line appearance="outline" fxLayout="column" fxFlex="70">
                                  <input (keyup)="keyUpHandler($event.target)" type="{{ sf.inputType }}" matInput
                                         placeholder="{{ selectedDocName.getValue() ? selectedDocName.getValue() : sf.placeholder }}" formControlName="{{sf.formControlName}}" readonly>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                    {{ 'general.required' | translate }} </mat-error>
                                  <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'email')">
                                    {{'register.invalidemail' | translate}} </mat-error>
                                </mat-form-field>
                                <button type="button" mat-raised-button class="bg-topaz upload-button" fxLayout="column" fxLayoutAlign="center center"  fxFlex="30" (click)="openUploadSheet()">
                                  <span class="white">Browse</span>
                                </button>
                              </div>

                            </div>
                            <div *ngIf="sf.type === 'select'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor"
                                            placeholder="{{ sf.placeholder }}" formControlName="{{sf.formControlName}}">
                                  <mat-option *ngFor="let v of sf.selectFieldList.getValue()" [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'selectWithSearch'" fxLayout="column" fxFlex="100">
                              <mat-label class="black font-size-12">
                                {{ sf.label  | translate }} :
                              </mat-label>
                              <mat-form-field appearance="outline">
                                <mat-select disableOptionCentering panelClass="panelColor" required
                                            formControlName="{{sf.formControlName}}"
                                            placeholder="{{ sf.placeholder | translate }}">
                                  <mat-option>
                                    <ngx-mat-select-search placeholderLabel="{{ 'general.search' | translate }}"
                                                           noEntriesFoundLabel="{{ 'general.nodata' | translate }}"
                                                           formControlName="{{sf.searchControlName}}"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let v of sf.filteredList | async"
                                              [value]="v.value">
                                    {{v.viewValue}}
                                  </mat-option>
                                </mat-select>
                                <mat-error class="red" *ngIf="isControlHasError(formData.controls[mi.titleKey]['controls'],sf.formControlName, 'required')">
                                  {{ 'general.required' | translate }} </mat-error>
                              </mat-form-field>
                            </div>
                            <div *ngIf="sf.type === 'slideToggle'" fxLayout="column" fxFlex="100">
                              <mat-slide-toggle class="black font-size-12" formControlName="{{sf.formControlName}}"> {{ sf.label }}</mat-slide-toggle>
                            </div>
                          </ng-container>
                        </div>

                      </div>
                    </ng-container>
                    <!------------------ END OF TWO ITEMS WITH IMAGE AT RIGHT LAYOUT ------------------->
                  </div>
                </ng-container>

              </section>
            </ng-template>
          </ng-container>
          <div fxLayoutAlign="end center" [style]="{ minHeight: '139px'}">
            <button (click)="submitAction()" color="primary" [disabled]="!formData.valid" [style]="{marginRight: '4%'}" mat-raised-button
                    class="white btn-medium">Save
            </button>
          </div>
        </form>
      </wid-scrollbar>
    </div>
  </div>
  <!---/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/-/--->

</div>
