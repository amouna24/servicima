<div class="container-show">
  <div fxLayout="row" fxFlexOffset="20px" fxFlex="96">
    <div fxLayout="column" fxFlex="30" fxLayoutGap="30px" fxLayoutAlign="start center" fxFill
      class="bg-white border-radius-20">
      <div fxLayout="column" fxFlex="30" fxLayoutGap="30px" fxLayoutAlign="center start"
        class="profile-image line-height-4">
        <img [src]="(this.user?.photo) ? avatar : 'assets/img/default.jpg'" width="80" height="80" class="show-img"
          [ngStyle.xs]="{ 'width.px': 100, 'height.px': 120 }" alt="user" />
      </div>
      <wid-skeleton-loader
        height="25" width="250"
        *ngIf="isLoading" nbrRow=3
        nbrColumn=1
      ></wid-skeleton-loader>
      <div fxLayout="column" fxLayoutGap="5px" fxFlex="15" *ngIf="!isLoading">
        <span class="brownish-grey font-size-25">{{user?.first_name | spliceText: 10}} {{ user?.last_name | spliceText: 10}}</span>
        <div fxLayout="column" fxFlex="80" fxLayoutGap="5px">
          <div fxLayout="row">
            <mat-icon class="icon material-icons-outlined icon-male cool-grey" svgIcon="wi_email">
            </mat-icon>
            <span class="cool-grey font-size-10">{{ this.emailAddress }}</span>
          </div>
          <div fxLayout="row" fxFlexAlign="start">
            <mat-icon class="icon material-icons-outlined icon-male cool-grey" svgIcon={{icon}}>
            </mat-icon>
            <span class="cool-grey font-size-10">{{gender}}</span>
          </div>
        </div>
      </div>
      <wid-skeleton-loader
        height="25" width="250"
        *ngIf="isLoading" nbrRow=3
        nbrColumn=1
      ></wid-skeleton-loader>
      <div fxLayout="column" fxFlex="55" fxLayoutGap="20px"  *ngIf="!isLoading">

        <div fxLayout="row" fxLayoutAlign="flex-end" fxLayoutGap="50px"
          *ngFor=" let list of showList; let index = index">
          <button mat-button mat-raised-button class="btn-medium white"
            [ngStyle]="{'background-color':list.color,'pointer-events': list.lien === null ? 'none' : 'auto' }"
            *ngIf="index<3">
            <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="8px">
              <div fxLayout="column" fxFlex="10">
                <mat-icon class="icon material-icons-outlined" svgIcon='{{list.icon}}'> </mat-icon>
              </div>
              <div fxLayout="column" fxFlex="85">
                <a [href]=list.lien target="_blank" class="font-size-12 white">{{list.value| spliceText: 14}}</a>
              </div>
            </div>
          </button>
        </div>
      </div>
    </div>
    <div fxLayout="column" fxFlex="70" fxLayoutAlign="start" fxLayoutGap="20px" class="bg-white border-radius-20"
      fxFlexOffset="50px">
      <div fxLayout="column" fxFlex="100" fxLayoutGap="20px">
        <div fxLayout="column" fxFlex="100" class="m-l-20">
          <div fxLayout="column" fxFlex="90">
            <div fxLayout="row" fxLayoutGap="20px" [ngStyle]="{'margin-top': '5%'}">
              <h5 class="steel">{{'user.personnelinformation'| translate}}:</h5>
            </div>
            <wid-skeleton-loader
              height="25" width="250"
              *ngIf="isLoading" nbrRow=2
              nbrColumn=2
            ></wid-skeleton-loader>
            <div fxLayout="row"   *ngIf="!isLoading">
              <div fxLayout="column" fxFlex="50" fxLayoutGap="10px">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.firstname'| translate }}: </span>
                  <span class="steel"> {{user?.first_name | spliceText: 40}}</span>
                  </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.lang'| translate}}: </span>
                  <span class="steel"> {{langDesc ? langDesc : 'none'}} </span>
                </div>
              </div>
              <div fxLayout="column" fxFlex="50" fxLayoutGap="10px">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.lastname'| translate}}: </span>
                  <span class="steel"> {{user?.last_name | spliceText: 40}}</span>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.gender'| translate}}: </span>
                  <span class="steel"> {{gender}}</span>
                </div>
              </div>
            </div>
            <div fxLayout="row">
              <h5 class="steel">{{'user.professionalinformation'| translate}}:</h5>
            </div>
            <wid-skeleton-loader
              height="25" width="250"
              *ngIf="isLoading"  nbrRow=2
              nbrColumn=2
            ></wid-skeleton-loader>
            <div fxLayout="row" *ngIf="!isLoading">
              <div fxLayout="column" fxFlex="50" fxLayoutGap="10px" class="font-size-12">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px">
                  <span> {{'user.job'| translate}}: </span>
                  <span class="steel"> {{title ? title : 'none'}}</span>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.profiletype'| translate}}: </span>
                  <span class="steel"> {{user?.user_type | titlecase}}</span>
                </div>
              </div>
              <div fxLayout="column" fxFlex="50" fxLayoutGap="10px">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'users.role' | translate}}: </span>
                  <span class="steel"> {{userRole | titlecase}}</span>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.homecompany'| translate}}: </span>
                  <span class="steel"> {{companyName}}</span>
                </div>
              </div>
            </div>
            <div fxLayout="row">
              <h5 class="steel"> {{'user.contact'| translate}}:</h5>
            </div>
            <wid-skeleton-loader
              height="25" width="250"
              *ngIf="isLoading"  nbrRow=2
              nbrColumn=2
            ></wid-skeleton-loader>
            <div fxLayout="row"  *ngIf="!isLoading">
              <div fxLayout="column" fxFlex="50" fxLayoutGap="10px" class="font-size-12">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px">
                  <span> {{'user.directline'| translate}}: </span>
                  <span class="steel"> {{user?.cellphone_nbr? user?.cellphone_nbr : 'none'}} </span>
                </div>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" class="font-size-12">
                  <span> {{'user.email'| translate}}: </span>
                  <span class="steel"> {{ emailAddress }}</span>
                </div>
              </div>


              <div fxLayout="column" fxFlex="50" fxLayoutGap="10px" class="font-size-12">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px">
                  <span> {{'use.profcellphone'| translate}}: </span>
                  <span class="steel"> {{user?.prof_phone ? user?.prof_phone : 'none'}}</span>
                </div>
              </div>
            </div>

            <div fxLayout="row">
              <h5 class="steel"> {{'user.socialnetwork'| translate}}:</h5>
            </div>

            <div fxLayout="column" fxLayoutGap="10px">
              <wid-skeleton-loader
                height="25" width="250"
                *ngIf="isLoading" nbrRow=2
                nbrColumn=2
              ></wid-skeleton-loader>
              <div fxLayout="row"  *ngIf="!isLoading">
                <div fxLayout="column" fxFlex="50" fxLayoutGap="10px">
                  <div fxLayout="column" *ngFor="let element of rightList;">
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" *ngIf="element.value ==='link'">
                      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" (click)="addLink()">
                        <button mat-flat-button mat-stroked-button class="topaz btn-plus" type="button">+</button>
                        <span class="font-size-12 steel"> {{element.placeholder| translate}} </span>
                      </div>
                    </div>
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" *ngIf="element.value !=='link'">
                      <span class="font-size-12"> {{element.placeholder| translate}}: </span>
                      <a target="_blank" [ngStyle]="{'pointer-events': element.lien ===null ? 'none' : 'auto',
                                                     'color':element.lien ===null ? 'auto' : 'auto',
                                                     'text-decoration':element.lien ===null ? 'auto' : 'underline'}"
                        [href]=element.lien class="font-size-12 steel"> {{element.value | spliceText: 35}} </a>
                    </div>
                  </div>

                </div>
                <div fxLayout="column" fxLayoutGap="10px">
                  <div fxLayout="column" *ngFor="let element of leftList;">
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" *ngIf="element.value ==='link'">
                      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" (click)="addLink()">
                        <button mat-flat-button mat-stroked-button class="topaz btn-plus" type="button">+</button>
                        <span class="font-size-12 steel"> {{element.placeholder| translate}} </span>
                      </div>
                    </div>
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="5px" *ngIf="element.value !=='link'">
                      <span class="font-size-12"> {{element.placeholder| translate}}: </span>
                      <a target="_blank" [ngStyle]="{'pointer-events': element.lien ===null ? 'none' : 'auto',
                                                     'color':element.lien ===null ? 'auto' : 'auto',
                                                     'text-decoration':element.lien ===null ? 'auto' : 'underline'}"
                        [href]=element.lien class="font-size-12 steel"> {{element.value | spliceText: 35}} </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <br>
          </div>
            <div fxLayout="column" fxFlex="10" fxLayoutAlign="center">
            <div fxLayout="row" fxLayoutAlign="flex-end" class="m-r-10">
                <button [disableControl]="{'feature':'SOURCING_ACCESS'}"  mat-button color="accent" (click)="update()" mat-raised-button class="btn-small white">
                  {{'user.edit'| translate}}
                </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
