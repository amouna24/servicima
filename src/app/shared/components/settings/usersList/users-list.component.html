<div>
    <button mat-flat-button (click)="addNewUser()" [disabled]="isLoading" class="wid-font-Button">+ Add
    </button>
    <mat-form-field class="wid-filter">
        <mat-placeholder class="wid-form-placeholder">FILTER</mat-placeholder>
        <input matInput  class="wid-input-value"> <!-- (keyup)="applyFilter($event.target.value)" -->
    </mat-form-field>

    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" class="full-width-table wid-admin-table" matSort>
            <!-- Company  Column -->
            <ng-container matColumnDef="Firstname">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>First name</th>
                <td mat-cell *matCellDef="let row">{{row.first_name}}</td>
            </ng-container>
            <!-- Application Column -->
            <ng-container matColumnDef="Lastname">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Last name</th>
                <td mat-cell *matCellDef="let row">{{row.last_name}}</td>
            </ng-container>
            <!-- Language Column -->
            <ng-container matColumnDef="Email">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
                <td mat-cell *matCellDef="let row">{{row.userKey.email_address}}</td>
              </ng-container>
            <!-- Module Column -->
            <ng-container matColumnDef="profileTypeDesc">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
                <td mat-cell *matCellDef="let row">{{row.profileTypeDesc}}</td>
            </ng-container>
            <!-- Module Column -->
            <ng-container matColumnDef="profTitlesDesc">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
                <td mat-cell *matCellDef="let row">{{row.profTitlesDesc}}</td>
            </ng-container>
            <!-- Description Column -->
            <ng-container matColumnDef="Created_by">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Created_by</th>
                <td mat-cell *matCellDef="let row">{{row.created_by}}</td>
            </ng-container>
            <!-- Status Column -->
            <ng-container matColumnDef="Status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                <td mat-cell *matCellDef="let row">
                    <button mat-icon-button *ngIf="row.status === 'ACTIVE'" class="wid-restore-status">
                        <mat-icon class="mat-18">spellcheck</mat-icon>
                    </button>
                    <button mat-icon-button class="wid-archive-status" *ngIf="row.status === 'inactive'">
                        <mat-icon class="mat-18">close</mat-icon>
                    </button>
                </td>
            </ng-container>
            <ng-container matColumnDef="Actions">
                <th mat-header-cell *matHeaderCellDef>ACTIONS</th>
                <td mat-cell *matCellDef="let row">
                  <button mat-icon-button [matMenuTriggerFor]="actions">
                    <mat-icon class="mat-18">more_horiz</mat-icon>
                  </button>
                  <mat-menu #actions="matMenu">
                    <button (click)="goTodetailUser(row._id)" mat-menu-item>Update</button>

                    <button mat-menu-item *ngIf="row.status === 'DISABLED'"
                      (click)="onChangeStatus(row._id , row.status)">Restore</button>
                    <button mat-menu-item *ngIf="row.status === 'ACTIVE'"
                      (click)="onChangeStatus(row._id , row.status)">Archive</button>

                  </mat-menu>
                </td>
              </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <!--<div class="no-records" *ngIf="dataSource.filteredData.length === 0">No records found</div>-->
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10"></mat-paginator>
    </div>
</div>
<br>
<div class="wid-spinner" *ngIf=" isLoading == true">
    <mat-spinner *ngIf=" isLoading == true"></mat-spinner>
</div>
<div class="wid-spinner wid-font-Button" *ngIf=" isLoading == true">
    <button mat-button *ngIf="isLoading == true" (click)="load()">Refresh</button>
</div>
