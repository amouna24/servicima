<mat-toolbar>
  <div class="search">
    <div id="search-container">
      <input type="text" required>
    </div>
  </div>
  <span class="flex-spacer"></span>
  <div fxLayout="row " fxLayoutGap="25px">
    <ng-container *ngFor=" let headerMenu of headerMenu">
      <ng-container *ngIf=" headerMenu.type === 'link';  else subMenuLabel">
        <div fxLayout="row" class="cursor" [routerLink]="['./', headerMenu.state]">
          <mat-icon class="icon material-icons-outlined icon-button">{{headerMenu.icon}} </mat-icon>
          <span class="header-label">{{headerMenu.name}}</span>
        </div>
      </ng-container>

      <ng-template #subMenuLabel>
        <div fxLayout="row ">
          <div class="cursor" [matMenuTriggerFor]="matSettings">
            <div fxLayout="row ">
              <mat-icon class="icon material-icons-outlined icon-button">{{headerMenu.icon}} </mat-icon>
              <div class="header-label">{{headerMenu.name}}</div>
            </div>
            <mat-menu #matSettings="matMenu" xPosition="before">
              <ng-container *ngFor=" let children of headerMenu.children">
                <div mat-menu-item [routerLink]="['./', children.state]">{{children.name}}</div>
              </ng-container>
            </mat-menu>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <div fxLayout="row ">
      <div class="cursor" [matMenuTriggerFor]="matUserMenu" aria-label="Toggle matUserMenu">
        <div fxLayout="row ">
          <img src="assets/img/avatar.png" alt="" class="user-avatar">
          <div class="header-label"> {{name}}</div>
        </div>
      </div>
      <mat-menu #matUserMenu="matMenu" xPosition="before">
        <button mat-menu-item [routerLink]="['/manager/profile']">MyAccount</button>
        <button mat-menu-item [routerLink]="['/manager/home-company']">Home company</button>
        <button mat-menu-item (click)='logout()'>Logout</button>
      </mat-menu>
    </div>
  </div>
</mat-toolbar>
